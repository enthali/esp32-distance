
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="This project is a proof of concept project to learn about GH Codespaces and GH Copilot including a Hands-on Workshop">
      
      
      
      
        <link rel="prev" href="../led-controller-requirements/">
      
      
        <link rel="next" href="../config-requirements/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>Display - ESP32 Distance</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#display-system-requirements" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ESP32 Distance" class="md-header__button md-logo" aria-label="ESP32 Distance" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ESP32 Distance
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Display
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ESP32 Distance" class="md-nav__button md-logo" aria-label="ESP32 Distance" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ESP32 Distance
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/devcontainer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dev Container
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/qemu-emulator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QEMU Emulator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Debugging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/qemu-network-internals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Network Internals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/pre-commit-hooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pre-commit Hooks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../known-limitations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Known Limitations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Requirements
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Requirements
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../system-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../distance-sensor-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Distance sensor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../led-controller-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LED controller
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Display
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Display
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#document-purpose" class="md-nav__link">
    <span class="md-ellipsis">
      Document Purpose
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements-traceability" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements Traceability
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-overview-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      System Overview Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Overview Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#req-dsp-overview-01-hardware-platform" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-OVERVIEW-01: Hardware Platform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-overview-02-configuration-integration" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-OVERVIEW-02: Configuration Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-experience-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      User Experience Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User Experience Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#req-dsp-visual-01-core-visualization-concept" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-VISUAL-01: Core Visualization Concept
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-visual-02-dual-layer-display-with-position-and-animation" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-VISUAL-02: Dual-Layer Display with Position and Animation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-visual-03-emergency-proximity-warning" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-VISUAL-03: Emergency Proximity Warning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-visual-04-out-of-range-display" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-VISUAL-04: Out of Range Display
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#animation-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Animation Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Animation Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#req-dsp-anim-01-too-far-directional-animation" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-ANIM-01: "Too Far" Directional Animation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-anim-02-too-close-directional-animation" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-ANIM-02: "Too Close" Directional Animation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-anim-03-ideal-zone-stop-indication" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-ANIM-03: Ideal Zone STOP Indication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-anim-04-dual-layer-rendering-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-ANIM-04: Dual-Layer Rendering Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-anim-05-emergency-proximity-blinking-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-ANIM-05: Emergency Proximity Blinking Pattern
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#req-dsp-impl-01-task-based-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-IMPL-01: Task-Based Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-impl-02-led-buffer-management" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-IMPL-02: LED Buffer Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-impl-03-distance-to-led-calculation" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-IMPL-03: Distance-to-LED Calculation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../startup-test-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Startup test
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web-server-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web server
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Design
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../design/system-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../design/distance-sensor-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Distance sensor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../design/led-controller-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LED controller
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../design/display-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Display
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../design/config-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../design/startup-test-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Startup test
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tests
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Tests
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../emulator-support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Emulator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../test/config-tests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Config tests
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Planning
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            Planning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../planning/Features-intended/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Workshop
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Workshop
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop/prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prerequisites
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop/hardwaresetup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop/gettingstartet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started Software
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop/exercises/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exercises
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Legal
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Legal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legal/impressum/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Impressum
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legal/datenschutz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Datenschutz
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#document-purpose" class="md-nav__link">
    <span class="md-ellipsis">
      Document Purpose
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements-traceability" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements Traceability
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-overview-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      System Overview Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Overview Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#req-dsp-overview-01-hardware-platform" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-OVERVIEW-01: Hardware Platform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-overview-02-configuration-integration" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-OVERVIEW-02: Configuration Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-experience-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      User Experience Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User Experience Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#req-dsp-visual-01-core-visualization-concept" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-VISUAL-01: Core Visualization Concept
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-visual-02-dual-layer-display-with-position-and-animation" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-VISUAL-02: Dual-Layer Display with Position and Animation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-visual-03-emergency-proximity-warning" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-VISUAL-03: Emergency Proximity Warning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-visual-04-out-of-range-display" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-VISUAL-04: Out of Range Display
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#animation-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Animation Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Animation Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#req-dsp-anim-01-too-far-directional-animation" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-ANIM-01: "Too Far" Directional Animation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-anim-02-too-close-directional-animation" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-ANIM-02: "Too Close" Directional Animation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-anim-03-ideal-zone-stop-indication" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-ANIM-03: Ideal Zone STOP Indication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-anim-04-dual-layer-rendering-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-ANIM-04: Dual-Layer Rendering Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-anim-05-emergency-proximity-blinking-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-ANIM-05: Emergency Proximity Blinking Pattern
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#req-dsp-impl-01-task-based-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-IMPL-01: Task-Based Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-impl-02-led-buffer-management" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-IMPL-02: LED Buffer Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#req-dsp-impl-03-distance-to-led-calculation" class="md-nav__link">
    <span class="md-ellipsis">
      REQ-DSP-IMPL-03: Distance-to-LED Calculation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="display-system-requirements">Display System Requirements</h1>
<p><strong>Document ID</strong>: REQ-DSP-ESP32-DISTANCE<br />
<strong>Version</strong>: 2.0<br />
<strong>Date</strong>: 2025-08-12<br />
<strong>Author</strong>: ESP32 Distance Project Team<br />
<strong>Parent Document</strong>: SRS-ESP32-DISTANCE  </p>
<h2 id="document-purpose">Document Purpose</h2>
<p>This document specifies requirements for the Display System, enabling visual representation of distance measurements through LED strip control with clear user experience definitions and implementation guidelines.</p>
<h2 id="requirements-traceability">Requirements Traceability</h2>
<table>
<thead>
<tr>
<th>Requirement ID</th>
<th>Design Reference</th>
<th>Priority</th>
</tr>
</thead>
<tbody>
<tr>
<td>REQ-DSP-OVERVIEW-01</td>
<td>DSN-DSP-OVERVIEW-01</td>
<td>Mandatory</td>
</tr>
<tr>
<td>REQ-DSP-OVERVIEW-02</td>
<td>DSN-DSP-OVERVIEW-02</td>
<td>Mandatory</td>
</tr>
<tr>
<td>REQ-DSP-VISUAL-01</td>
<td>DSN-DSP-VISUAL-01</td>
<td>Mandatory</td>
</tr>
<tr>
<td>REQ-DSP-VISUAL-02</td>
<td>DSN-DSP-VISUAL-02</td>
<td>Mandatory</td>
</tr>
<tr>
<td>REQ-DSP-VISUAL-03</td>
<td>DSN-DSP-VISUAL-03</td>
<td>Mandatory</td>
</tr>
<tr>
<td>REQ-DSP-VISUAL-04</td>
<td>DSN-DSP-VISUAL-04</td>
<td>Mandatory</td>
</tr>
<tr>
<td>REQ-DSP-ANIM-01</td>
<td>DSN-DSP-ANIM-01</td>
<td>Mandatory</td>
</tr>
<tr>
<td>REQ-DSP-ANIM-02</td>
<td>DSN-DSP-ANIM-02</td>
<td>Mandatory</td>
</tr>
<tr>
<td>REQ-DSP-ANIM-03</td>
<td>DSN-DSP-ANIM-03</td>
<td>Mandatory</td>
</tr>
<tr>
<td>REQ-DSP-ANIM-04</td>
<td>DSN-DSP-ANIM-04</td>
<td>Mandatory</td>
</tr>
<tr>
<td>REQ-DSP-ANIM-05</td>
<td>DSN-DSP-ANIM-05</td>
<td>Mandatory</td>
</tr>
<tr>
<td>REQ-DSP-IMPL-01</td>
<td>DSN-DSP-IMPL-01</td>
<td>Mandatory</td>
</tr>
<tr>
<td>REQ-DSP-IMPL-02</td>
<td>DSN-DSP-IMPL-02</td>
<td>Mandatory</td>
</tr>
<tr>
<td>REQ-DSP-IMPL-03</td>
<td>DSN-DSP-IMPL-03</td>
<td>Mandatory</td>
</tr>
</tbody>
</table>
<p><strong>Dependencies</strong>:</p>
<ul>
<li>REQ-DSP-OVERVIEW-01 depends on REQ-LED-1 (LED hardware initialization)</li>
<li>REQ-DSP-OVERVIEW-02 depends on REQ-CFG-1 (configuration management system)</li>
<li>REQ-DSP-VISUAL-01 depends on REQ-SNS-11 (processed distance measurements with smoothing)</li>
<li>REQ-DSP-VISUAL-03 depends on REQ-CFG-2 (boundary parameter configuration)</li>
<li>REQ-DSP-VISUAL-04 depends on REQ-CFG-2 (boundary parameter configuration)</li>
</ul>
<hr />
<h2 id="system-overview-requirements">System Overview Requirements</h2>
<h3 id="req-dsp-overview-01-hardware-platform">REQ-DSP-OVERVIEW-01: Hardware Platform</h3>
<p><strong>Type</strong>: System<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Depends</strong>: REQ-LED-1<br />
<strong>Description</strong>: The display system SHALL utilize WS2812 addressable LED strip hardware through the LED controller component API as an integrated, reactive component. LED count and brightness are configurable via configuration management system.</p>
<p><strong>Rationale</strong>: Establishes the hardware foundation for the visual display system, enabling flexible LED strip configurations for different deployment scenarios. The system operates reactively, automatically responding to distance measurements rather than external commands. Display system uses LED controller API for all hardware access, maintaining clear separation of concerns.</p>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: Display system uses LED controller component API for all LED hardware access</li>
<li>AC-2: LED count and brightness are configurable via configuration management system</li>
<li>AC-3: System validates LED count is within reasonable range (1-100 LEDs)</li>
<li>AC-4: LED controller component handles all GPIO pin configuration and timing</li>
<li>AC-5: Display system depends on LED controller initialization completing successfully</li>
<li>AC-6: System operates continuously, updating display in real-time as measurements arrive</li>
</ul>
<hr />
<h3 id="req-dsp-overview-02-configuration-integration">REQ-DSP-OVERVIEW-02: Configuration Integration</h3>
<p><strong>Type</strong>: Interface<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Depends</strong>: REQ-CFG-1<br />
<strong>Description</strong>: The display system SHALL obtain all operational parameters from the configuration management system.</p>
<p><strong>Rationale</strong>: Ensures centralized configuration management and eliminates hardcoded values, enabling runtime reconfiguration and consistent system behavior. Parameter validation is handled by the configuration manager. Configuration changes trigger system reset, allowing static memory allocation at startup with no runtime reallocation - preventing memory fragmentation and performance degradation in the embedded environment.</p>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: All display parameters are obtained from configuration manager</li>
<li>AC-2: System reads configuration at initialization</li>
</ul>
<p><strong>Configuration Parameters</strong>:</p>
<ul>
<li><code>led_count</code>: Number of LEDs in the strip</li>
<li><code>led_brightness</code>: LED brightness level</li>
<li><code>min_distance_cm</code>: Minimum distance threshold</li>
<li><code>max_distance_cm</code>: Maximum distance threshold</li>
</ul>
<hr />
<h2 id="user-experience-requirements">User Experience Requirements</h2>
<h3 id="req-dsp-visual-01-core-visualization-concept">REQ-DSP-VISUAL-01: Core Visualization Concept</h3>
<p><strong>Type</strong>: User Experience<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Depends</strong>: REQ-SNS-11<br />
<strong>Description</strong>: The display system SHALL illuminate a single LED that represents the current measured distance with real-time updates. The display system consumes processed distance measurements from the distance sensor component without additional filtering or smoothing.</p>
<p><strong>Rationale</strong>: Provides clear, unambiguous visual feedback where users can immediately understand the current distance measurement through LED position. The distance sensor component owns all measurement processing, filtering, and smoothing (REQ-SNS-11); the display system is responsible solely for visual representation of processed measurements, maintaining clear separation of concerns.</p>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: Only one LED is illuminated at any given time (excluding animation layers)</li>
<li>AC-2: LED position corresponds to processed distance measurement value from sensor component</li>
<li>AC-3: Display updates immediately when new processed measurements arrive from sensor queue</li>
<li>AC-4: Display system SHALL NOT apply additional smoothing or filtering to distance measurements</li>
<li>AC-5: Display system uses distance measurements directly from sensor component's processed measurement queue</li>
</ul>
<hr />
<h3 id="req-dsp-visual-02-dual-layer-display-with-position-and-animation">REQ-DSP-VISUAL-02: Dual-Layer Display with Position and Animation</h3>
<p><strong>Type</strong>: User Experience<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Description</strong>: The display system SHALL use a dual-layer architecture combining position indication and directional animation to guide optimal parking. When distance is outside the ideal zone, the system SHALL display a green LED at the measured position (position layer) and a directional animation (animation layer) at reduced brightness guiding toward the ideal zone.</p>
<p><strong>Rationale</strong>: Dual-layer display provides both current position feedback and directional guidance. The ideal zone is calculated as a centered range (IDEAL_CENTER_PERCENT ± IDEAL_SIZE_PERCENT/2) to provide a clear target area. Green position indicator shows current location, while low-brightness directional animation (2%) guides without overwhelming the position signal.</p>
<p><strong>Zone Calculation</strong> (configuration-independent):</p>
<ul>
<li><code>ideal_size = (led_count * 10) / 100</code> (10% of strip)</li>
<li><code>ideal_center = (led_count * 30) / 100</code> (30% position)</li>
<li><code>ideal_start = ideal_center - (ideal_size / 2)</code></li>
<li><code>ideal_end = ideal_start + ideal_size - 1</code></li>
</ul>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: Minimum configured distance maps exactly to first LED (position 0)</li>
<li>AC-2: Maximum configured distance maps exactly to last LED (position led_count-1)</li>
<li>AC-3: LED position calculated using linear interpolation between positions 0 and led_count-1</li>
<li>AC-4: Zone 1 "too close" (position &lt; ideal_start): Orange LED at position (50% brightness) + red animation (100% brightness) (see REQ-DSP-ANIM-02)</li>
<li>AC-5: Zone 2 "ideal" (ideal_start ≤ position ≤ ideal_end): All ideal zone LEDs red (see REQ-DSP-ANIM-03)</li>
<li>AC-6: Zone 3 "too far" (position &gt; ideal_end): Green LED at position + white animation (see REQ-DSP-ANIM-01)</li>
<li>AC-7: Zone boundaries calculated using integer arithmetic for embedded efficiency</li>
<li>AC-8: Ideal zone size = 10% of LED count, centered at 30% position</li>
</ul>
<hr />
<h3 id="req-dsp-visual-03-emergency-proximity-warning">REQ-DSP-VISUAL-03: Emergency Proximity Warning</h3>
<p><strong>Type</strong>: User Experience<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Depends</strong>: REQ-CFG-2<br />
<strong>Description</strong>: The display system SHALL show a blinking red pattern on every 10th LED when the measured distance is below the configured minimum distance threshold, indicating dangerous proximity.</p>
<p><strong>Rationale</strong>: Blinking pattern on multiple LEDs (every 10th: positions 0, 10, 20, 30, etc.) provides urgent visual warning that is more attention-grabbing than a single static LED. The 1 Hz blink rate (500ms ON, 500ms OFF) is standard for emergency warnings.</p>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: LEDs at positions 0, 10, 20, 30, ... (every 10th) blink red when distance &lt; min_distance_cm</li>
<li>AC-2: Blink frequency is 1 Hz (500ms ON, 500ms OFF)</li>
<li>AC-3: Emergency pattern has highest rendering priority (overrides position and animation layers)</li>
<li>AC-4: Pattern persists until measurement returns to valid range</li>
<li>AC-5: See REQ-DSP-ANIM-05 for implementation details</li>
</ul>
<hr />
<h3 id="req-dsp-visual-04-out-of-range-display">REQ-DSP-VISUAL-04: Out of Range Display</h3>
<p><strong>Type</strong>: User Experience<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Depends</strong>: REQ-CFG-2<br />
<strong>Description</strong>: The display system SHALL show only the directional animation layer (no position indicator) when the measured distance is above the configured maximum distance threshold, indicating the measurement is invalid but direction is known.</p>
<p><strong>Rationale</strong>: When distance exceeds sensor maximum range, the exact position is unreliable, but the direction (too far) is known. Showing only the blue "too far" animation provides directional guidance without falsely indicating a valid position measurement.</p>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: Blue "too far" animation runs when distance &gt; max_distance_cm (see REQ-DSP-ANIM-01)</li>
<li>AC-2: No green position indicator is shown (measurement invalid)</li>
<li>AC-3: Animation provides directional cue to move closer</li>
<li>AC-4: Display persists until measurement returns to valid range</li>
</ul>
<hr />
<h2 id="animation-requirements">Animation Requirements</h2>
<h3 id="req-dsp-anim-01-too-far-directional-animation">REQ-DSP-ANIM-01: "Too Far" Directional Animation</h3>
<p><strong>Type</strong>: User Experience<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Description</strong>: The display system SHALL show a running white LED animation from the far end toward the ideal zone when the vehicle is in the "too far" zone, guiding the user to move closer.</p>
<p><strong>Rationale</strong>: White color at low brightness (2% = ~5/255) provides directional guidance without overwhelming the green position indicator. Animation runs from LED 39 (or led_count-1) toward ideal_end at 100ms per LED step, creating smooth directional motion that intuitively guides the user closer.</p>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: Animation runs when position &gt; ideal_end (too far zone)</li>
<li>AC-2: White LED color at 2% brightness (~5/255 RGB values)</li>
<li>AC-3: Animation starts at LED position led_count-1 (far end)</li>
<li>AC-4: Animation moves toward ideal_end at 100ms per LED step</li>
<li>AC-5: Animation loops continuously while in too far zone</li>
<li>AC-6: Animation stops immediately when entering ideal zone or too close zone</li>
<li>AC-7: Animation layer renders below position layer (green position LED visible on top)</li>
</ul>
<hr />
<h3 id="req-dsp-anim-02-too-close-directional-animation">REQ-DSP-ANIM-02: "Too Close" Directional Animation</h3>
<p><strong>Type</strong>: User Experience<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Description</strong>: The display system SHALL show a running red LED animation from the near end toward the ideal zone when the vehicle is in the "too close" zone, guiding the user to move away.</p>
<p><strong>Rationale</strong>: Red color at full brightness (100% = 255/255) provides strong directional guidance and warning. Animation runs from LED 0 toward ideal_start at 100ms per LED step, creating smooth directional motion that intuitively guides the user away. Position indicator rendered at 50% brightness to remain visible but subordinate to the warning animation.</p>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: Animation runs when position &lt; ideal_start (too close zone)</li>
<li>AC-2: Red LED color at 100% brightness (255/255 RGB values)</li>
<li>AC-3: Animation starts at LED position 0 (near end)</li>
<li>AC-4: Animation moves toward ideal_start at 100ms per LED step</li>
<li>AC-5: Animation loops continuously while in too close zone</li>
<li>AC-6: Animation stops immediately when entering ideal zone or too far zone</li>
<li>AC-7: Position indicator rendered at 50% brightness to maintain visibility</li>
</ul>
<hr />
<h3 id="req-dsp-anim-03-ideal-zone-stop-indication">REQ-DSP-ANIM-03: Ideal Zone STOP Indication</h3>
<p><strong>Type</strong>: User Experience<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Description</strong>: The display system SHALL illuminate all LEDs in the ideal zone with red color to provide visual target guidance. The ideal zone SHALL be visible at 2% brightness at all times as a background reference, and SHALL illuminate at 100% brightness when the measured position is within the ideal zone, providing clear STOP signal using universal traffic signal color.</p>
<p><strong>Rationale</strong>: Red is universally recognized as STOP signal. The ideal zone is always visible at low brightness (2%) to show the driver the target parking position regardless of current location. When vehicle reaches ideal zone, all LEDs in that zone (ideal_start through ideal_end) turn solid red at 100% brightness, providing unmistakable "park anywhere in this zone" indication. No position indicator or animation needed - the entire zone is valid. The brightness increase from 2% to 100% provides clear positive feedback when the target is reached.</p>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: All LEDs from ideal_start to ideal_end illuminate red at 2% brightness at all times (background layer)</li>
<li>AC-2: When ideal_start ≤ position ≤ ideal_end, ideal zone LEDs illuminate at 100% brightness (255, 0, 0)</li>
<li>AC-3: Background ideal zone (2%) is visible in Zone 1 (too close) and Zone 3 (too far)</li>
<li>AC-4: No position indicator shown when in ideal zone (entire zone is valid)</li>
<li>AC-5: No animation layer shown when in ideal zone (destination reached)</li>
<li>AC-6: Full brightness ideal zone (100%) has priority over animation and position layers</li>
<li>AC-7: Background ideal zone (2%) renders below animation and position layers</li>
</ul>
<hr />
<h3 id="req-dsp-anim-04-dual-layer-rendering-architecture">REQ-DSP-ANIM-04: Dual-Layer Rendering Architecture</h3>
<p><strong>Type</strong>: Implementation<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Description</strong>: The display system SHALL implement a multi-layer rendering architecture with clear layer priority: Emergency &gt; Ideal Zone (full) &gt; Position &gt; Animation &gt; Ideal Zone (background), ensuring proper visual compositing.</p>
<p><strong>Rationale</strong>: Layered rendering architecture allows independent animation and position updates with deterministic priority. Emergency warnings must override all other displays, full brightness ideal zone indication overrides position/animation when reached, position indicator must be visible over animation layer for current location feedback, and background ideal zone provides constant visual reference at lowest priority.</p>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: Ideal zone background layer renders first (base layer, 2% red brightness, always visible)</li>
<li>AC-2: Animation layer renders second (2-100% brightness depending on zone)</li>
<li>AC-3: Position layer renders third (orange or green LED at measured position, 50-100% brightness)</li>
<li>AC-4: Ideal zone full brightness overrides position and animation (all red at 100%)</li>
<li>AC-5: Emergency pattern renders last (highest priority, overrides all layers)</li>
<li>AC-6: Single led_show() call per frame updates all LEDs atomically</li>
<li>AC-7: Frame rate of 10 FPS (100ms per frame) for animation steps</li>
<li>AC-8: No blocking delays in rendering pipeline (use FreeRTOS timer for animation timing)</li>
</ul>
<hr />
<h3 id="req-dsp-anim-05-emergency-proximity-blinking-pattern">REQ-DSP-ANIM-05: Emergency Proximity Blinking Pattern</h3>
<p><strong>Type</strong>: Implementation<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Depends</strong>: REQ-DSP-VISUAL-03<br />
<strong>Description</strong>: The display system SHALL implement a 1 Hz blinking pattern on every 10th LED position when distance is below minimum threshold, creating urgent visual warning. All other display layers SHALL be suppressed during emergency mode to ensure maximum focus on the warning.</p>
<p><strong>Rationale</strong>: Blinking pattern implementation requires timing state machine with 500ms ON/OFF cycles. Every 10th LED (0, 10, 20, 30, ...) creates distributed warning pattern visible from any viewing angle. Highest priority ensures emergency always visible. Suppressing ideal zone background and other layers during emergency eliminates visual distractions and focuses driver attention exclusively on the danger warning, enabling faster reaction time.</p>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: Blink state toggles every 500ms (1 Hz frequency)</li>
<li>AC-2: ON state: LEDs at positions 0, 10, 20, 30, ... show red (255, 0, 0)</li>
<li>AC-3: OFF state: LEDs at positions 0, 10, 20, 30, ... turn off (0, 0, 0)</li>
<li>AC-4: Blink timing uses FreeRTOS timer or tick count for accuracy</li>
<li>AC-5: Pattern overrides all other layers (highest priority)</li>
<li>AC-6: Only affects multiples of 10 positions (0, 10, 20, 30, ...)</li>
<li>AC-7: Emergency pattern activates immediately when distance &lt; min_distance_cm</li>
<li>AC-8: Ideal zone background and all other layers are suppressed during emergency mode</li>
</ul>
<hr />
<h2 id="implementation-requirements">Implementation Requirements</h2>
<h3 id="req-dsp-impl-01-task-based-architecture">REQ-DSP-IMPL-01: Task-Based Architecture</h3>
<p><strong>Type</strong>: Implementation<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Description</strong>: The display system SHALL implement a FreeRTOS task that blocks waiting for new distance measurements and updates the display accordingly.</p>
<p><strong>Rationale</strong>: Provides responsive, real-time display updates using efficient blocking I/O patterns, ensuring minimal resource usage and immediate response to sensor data.</p>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: Implementation uses FreeRTOS task for display logic</li>
<li>AC-2: Task blocks waiting for distance measurement notifications</li>
<li>AC-3: Task has appropriate priority below measurement task but above any other task for real-time response</li>
</ul>
<hr />
<h3 id="req-dsp-impl-02-led-buffer-management">REQ-DSP-IMPL-02: LED Buffer Management</h3>
<p><strong>Type</strong>: Implementation<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Description</strong>: The display system SHALL maintain an internal LED state buffer and update all LEDs simultaneously using WS2812 serial protocol characteristics.</p>
<p><strong>Rationale</strong>: WS2812 LEDs use serial daisy-chain protocol requiring complete buffer transmission to update display, ensuring consistent visual state across all LEDs.</p>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: Internal buffer maintains complete LED strip state (all LED colors)</li>
<li>AC-2: Buffer is transmitted to hardware as single operation per WS2812 protocol</li>
</ul>
<hr />
<h3 id="req-dsp-impl-03-distance-to-led-calculation">REQ-DSP-IMPL-03: Distance-to-LED Calculation</h3>
<p><strong>Type</strong>: Implementation<br />
<strong>Priority</strong>: Mandatory<br />
<strong>Depends</strong>: REQ-DSP-VISUAL-02, REQ-DSP-VISUAL-03, REQ-DSP-VISUAL-04<br />
<strong>Description</strong>: The display system SHALL implement linear mapping calculation to convert distance measurements to LED positions as specified in the visual requirements.</p>
<p><strong>Rationale</strong>: Provides the mathematical foundation for translating distance values into discrete LED positions, implementing the visual behavior defined in REQ-DSP-VISUAL-02/03/04.</p>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li>AC-1: Calculation handles full configured distance range per visual requirements</li>
<li>AC-2: Result is clamped to valid LED index range [0, led_count-1]  </li>
<li>AC-3: Edge cases (min/max distances) map exactly to first/last LEDs per visual requirements</li>
</ul>
<hr />
<h2 id="requirements-summary">Requirements Summary</h2>
<p><strong>Total Requirements</strong>: 14  </p>
<ul>
<li><strong>System Overview</strong>: 2 requirements</li>
<li><strong>User Experience</strong>: 4 requirements  </li>
<li><strong>Animation</strong>: 5 requirements</li>
<li><strong>Implementation</strong>: 3 requirements</li>
</ul>
<p><strong>Requirement Types</strong>:</p>
<ul>
<li><strong>System</strong>: 1 requirement</li>
<li><strong>Interface</strong>: 1 requirement</li>
<li><strong>User Experience</strong>: 8 requirements</li>
<li><strong>Implementation</strong>: 4 requirements</li>
</ul>
<p><strong>Priority Distribution</strong>:</p>
<ul>
<li><strong>Mandatory</strong>: 14 requirements</li>
<li><strong>Optional</strong>: 0 requirements</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../led-controller-requirements/" class="md-footer__link md-footer__link--prev" aria-label="Previous: LED controller">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                LED controller
              </div>
            </div>
          </a>
        
        
          
          <a href="../config-requirements/" class="md-footer__link md-footer__link--next" aria-label="Next: Configuration">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Configuration
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2025 Georg Doll - 
<a href="/legal/impressum/">Impressum</a> | 
<a href="/legal/datenschutz/">Datenschutz</a>
    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/enthali/esp32-distance" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer", "content.full_width"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10.9.1/dist/mermaid.min.js"></script>
      
        <script src="../../javascripts/mermaid-init.js"></script>
      
    
  </body>
</html>