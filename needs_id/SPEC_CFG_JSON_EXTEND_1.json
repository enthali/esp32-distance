{"created": "2025-11-12T10:41:15.288796", "current_version": "", "project": "ESP32 Distance Sensor", "versions": {"": {"created": "2025-11-12T10:41:15.288782", "creator": {"program": "sphinx_needs", "version": "6.1.0"}, "needs": {"SPEC_CFG_JSON_EXTEND_1": {"acceptance_criteria": "", "api_signature": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "component": "", "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** Simple process for adding new configuration fields to schema.\n\n**Step-by-Step Guide:**\n\n**1. Define in config_schema.json:**\n\n.. code-block:: json\n\n   {\n     \"key\": \"my_setting\",\n     \"type\": \"integer\",\n     \"label\": \"My Custom Setting\",\n     \"description\": \"This is what my setting does\",\n     \"default\": 100,\n     \"min\": 1,\n     \"max\": 1000,\n     \"step\": 10,\n     \"group\": \"application\",\n     \"order\": 1\n   }\n\n**2. Use in Application Code:**\n\n.. code-block:: c\n\n   #include \"config_manager.h\"\n\n   int32_t my_setting;\n   esp_err_t err = config_get_int32(\"my_setting\", &my_setting);\n\n   if (err != ESP_OK) {\n       ESP_LOGW(TAG, \"Failed to read my_setting: %s\", esp_err_to_name(err));\n       my_setting = 100;  // Fallback to default\n   }\n\n   // Use my_setting...\n\n**3. Web UI Auto-Updates:**\n\n- Reload settings page\n- New field appears automatically with validation rules\n- Label and description shown from schema\n\n**Key Naming Rules:**\n\n- Use `snake_case` (matches C naming conventions)\n- \u226415 characters (NVS key length limit)\n- Avoid special characters except underscore\n- Make names descriptive (\"led_count\" better than \"lc\")", "created_at": "", "docname": "12_design/spec_config_manager_json", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "header_file": "", "id": "SPEC_CFG_JSON_EXTEND_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 611, "links": ["REQ_CFG_JSON_1", "REQ_CFG_JSON_13"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "parameters": "", "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "", "query": "", "rationale": "", "returns": "", "section_name": "Best Practices & Development Guide", "sections": ["Best Practices & Development Guide", "JSON-Based Configuration Manager Design"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["development", "guide", "extensibility"], "template": null, "title": "Adding New Configuration Fields", "type": "spec", "type_name": "Design Specification", "updated_at": "", "url": "", "url_postfix": "", "user": ""}}, "needs_amount": 1}}}