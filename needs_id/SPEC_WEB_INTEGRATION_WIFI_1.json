{"created": "2025-11-12T08:52:39.103907", "current_version": "", "project": "ESP32 Distance Sensor", "versions": {"": {"created": "2025-11-12T08:52:39.103891", "creator": {"program": "sphinx_needs", "version": "6.1.0"}, "needs": {"SPEC_WEB_INTEGRATION_WIFI_1": {"acceptance_criteria": "", "api_signature": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "component": "", "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Integration Points:**\n\n.. code-block:: c\n\n   #include \"wifi_manager.h\"\n\n**WiFi Scanning:**\n\n.. code-block:: c\n\n   // Start scan (blocking)\n   wifi_scan_config_t scan_config = {\n       .show_hidden = false,\n       .scan_type = WIFI_SCAN_TYPE_ACTIVE,\n       .scan_time.active.min = 100,\n       .scan_time.active.max = 300,\n   };\n   esp_wifi_scan_start(&scan_config, true);\n\n   // Get results\n   uint16_t ap_count = 0;\n   esp_wifi_scan_get_ap_num(&ap_count);\n   wifi_ap_record_t *ap_records = malloc(sizeof(wifi_ap_record_t) * ap_count);\n   esp_wifi_scan_get_ap_records(&ap_count, ap_records);\n\n**Set WiFi Credentials:**\n\n.. code-block:: c\n\n   wifi_credentials_t credentials = {0};\n   strncpy(credentials.ssid, \"MyNetwork\", sizeof(credentials.ssid) - 1);\n   strncpy(credentials.password, \"password\", sizeof(credentials.password) - 1);\n\n   esp_err_t ret = wifi_manager_set_credentials(&credentials);\n\n**Get WiFi Status:**\n\n.. code-block:: c\n\n   wifi_status_t status;\n   wifi_manager_get_status(&status);\n\n   // status.mode, status.connected_ssid, status.rssi, status.has_credentials\n\n**Clear Credentials:**\n\n.. code-block:: c\n\n   esp_err_t ret = wifi_manager_clear_credentials();\n\n**Lifecycle:**\n\n- WiFi Manager starts web server when entering AP mode (captive portal)\n- WiFi Manager stops web server when successfully connecting to WiFi (optional behavior)\n- Web server can run independently in both AP and STA modes", "created_at": "", "docname": "12_design/spec_web_server", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "header_file": "", "id": "SPEC_WEB_INTEGRATION_WIFI_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 796, "links": ["REQ_WEB_3"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "parameters": "", "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "", "query": "", "rationale": "", "returns": "", "section_name": "WiFi Manager Integration", "sections": ["WiFi Manager Integration", "Web Server Design Specification"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["web", "integration", "wifi"], "template": null, "title": "WiFi Manager Integration Pattern", "type": "spec", "type_name": "Design Specification", "updated_at": "", "url": "", "url_postfix": "", "user": ""}}, "needs_amount": 1}}}