{
  "schema_version": "1.0",
  "config_namespace": "config",
  "groups": [
    {
      "id": "wifi",
      "label": "ðŸ“¶ WiFi Settings",
      "description": "Network configuration",
      "order": 4
    },
    {
      "id": "ap",
      "label": "ðŸ“¡ Access Point Settings",
      "description": "Fallback AP configuration",
      "order": 5
    },
    {
      "id": "display",
      "label": "ðŸ“Š Display Settings",
      "description": "LED strip and distance visualization",
      "order": 2
    },
    {
      "id": "sensor",
      "label": "ðŸ“¡ Sensor Settings",
      "description": "HC-SR04 distance sensor configuration",
      "order": 3
    }
  ],
  "parameters": [
    {
      "key": "wifi_ssid",
      "type": "string",
      "label": "WiFi SSID",
      "description": "Network name (SSID) to connect to",
      "default": "",
      "required": false,
      "minLength": 0,
      "maxLength": 32,
      "pattern": "^[\\x20-\\x7E]{0,32}$",
      "group": "wifi",
      "order": 1
    },
    {
      "key": "wifi_pass",
      "type": "password",
      "label": "WiFi Password",
      "description": "Network password (leave empty for open networks)",
      "default": "",
      "required": false,
      "minLength": 0,
      "maxLength": 63,
      "group": "wifi",
      "order": 2
    },
    {
      "key": "ap_ssid",
      "type": "string",
      "label": "Device Name",
      "description": "Friendly name shown as Access Point SSID",
      "default": "ESP32-Setup",
      "required": true,
      "minLength": 1,
      "maxLength": 32,
      "pattern": "^[\\x20-\\x7E]{1,32}$",
      "group": "ap",
      "order": 1
    },
    {
      "key": "ap_pass",
      "type": "password",
      "label": "AP Password",
      "description": "Access Point password (min 8 characters for WPA2)",
      "default": "12345678",
      "required": true,
      "minLength": 8,
      "maxLength": 63,
      "group": "ap",
      "order": 2
    },
    {
      "key": "led_count",
      "type": "integer",
      "label": "LED Count",
      "description": "Number of LEDs in strip (40 typical for distance display)",
      "default": 40,
      "required": true,
      "min": 1,
      "max": 300,
      "step": 1,
      "group": "display",
      "order": 1
    },
    {
      "key": "led_bright",
      "type": "integer",
      "label": "LED Brightness",
      "description": "Global brightness level (0-255)",
      "default": 128,
      "required": true,
      "min": 10,
      "max": 255,
      "step": 5,
      "group": "display",
      "order": 2
    },
    {
      "key": "dist_min_mm",
      "type": "integer",
      "label": "Minimum Distance (mm)",
      "description": "Minimum distance mapped to first LED (100mm = 10cm)",
      "default": 100,
      "required": true,
      "min": 20,
      "max": 2000,
      "step": 10,
      "group": "display",
      "order": 3
    },
    {
      "key": "dist_max_mm",
      "type": "integer",
      "label": "Maximum Distance (mm)",
      "description": "Maximum distance mapped to last LED (500mm = 50cm)",
      "default": 500,
      "required": true,
      "min": 100,
      "max": 4000,
      "step": 10,
      "group": "display",
      "order": 4
    },
    {
      "key": "meas_int_ms",
      "type": "integer",
      "label": "Measurement Interval (ms)",
      "description": "Time between sensor measurements (100ms = 10Hz)",
      "default": 100,
      "required": true,
      "min": 50,
      "max": 1000,
      "step": 10,
      "group": "sensor",
      "order": 1
    },
    {
      "key": "sens_timeout_ms",
      "type": "integer",
      "label": "Sensor Timeout (ms)",
      "description": "Maximum wait for echo response (30ms for HC-SR04)",
      "default": 30,
      "required": true,
      "min": 10,
      "max": 100,
      "step": 1,
      "group": "sensor",
      "order": 2
    },
    {
      "key": "temp_c_x10",
      "type": "integer",
      "label": "Temperature (Â°C Ã— 10)",
      "description": "Temperature for speed of sound compensation (200 = 20.0Â°C)",
      "default": 200,
      "required": true,
      "min": -100,
      "max": 500,
      "step": 10,
      "group": "sensor",
      "order": 3
    },
    {
      "key": "smooth_factor",
      "type": "integer",
      "label": "Smoothing Factor (0-1000)",
      "description": "EMA filter alpha: 0=max smooth, 1000=no smooth, 300=balanced",
      "default": 300,
      "required": true,
      "min": 0,
      "max": 1000,
      "step": 10,
      "group": "sensor",
      "order": 4
    }
  ]
}
